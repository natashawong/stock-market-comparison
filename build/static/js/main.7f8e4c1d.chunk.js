(this["webpackJsonpstock-market-comparison"]=this["webpackJsonpstock-market-comparison"]||[]).push([[0],{181:function(e,t,a){e.exports=a(387)},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(13),c=a.n(r),o=(a(186),a(17)),l=a(18),s=a(53),m=a(20),d=a(19),u=(a(187),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={activeTab:0},n.handleClick=n.handleClick.bind(Object(s.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bigBox"},i.a.createElement("div",{className:"topNav"},i.a.createElement("span",null,i.a.createElement("a",{href:"/"},"Home"),i.a.createElement("a",{href:"/"},"Support"),i.a.createElement("a",{href:"/"},"Natasha"))),i.a.createElement("div",{className:"title"},i.a.createElement("h1",{style:{margin:0,paddingTop:25}},"Stock Market Comparison")),i.a.createElement("div",{className:"bottomNav"},i.a.createElement("a",{href:"#",onClick:function(){return e.handleClick(0)},className:0==this.state.activeTab?"activeTab":null},"Overview"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleClick(1)},className:1==this.state.activeTab?"activeTab":null},"Assets"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleClick(2)},className:2==this.state.activeTab?"activeTab":null},"Projections"),i.a.createElement("form",{id:"additionalActions"},"More actions")))}}]),a}(n.Component)),h=(a(188),a(10));function f(e,t){var a=new Date(1e3*e),n=a.getFullYear(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()],r=a.getDate();return"withinYTD"===t?r+" "+i:i+" "+n}var v=a(368),p=v().diff(v("2002-01-01"),"years"),y={today:v().unix(),monthBefore:v().subtract(1,"month").unix(),six_monthBefore:v().subtract(6,"month").unix(),yearToDate:v().startOf("year").unix(),yearBefore:v().subtract(1,"year").unix(),five_yearBefore:v().subtract(5,"year").unix(),maxBefore:v().subtract(p,"year").unix()},k=a(369),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).currency="SGD",n.timeScale="1d",n.timePeriod2=y.today,n.timePeriod1=y.monthBefore,n.frequency="1mo",n.legendText=function(e){return i.a.createElement("span",{style:{color:"#a8b2bb"}},e)},n.state={data:[]},n}return Object(l.a)(a,[{key:"renderTimeAndCurrency",value:function(){switch(this.currency=0===this.props.selectedCurrency?"SGD":"USD",this.props.selectedTime){case 0:this.timePeriod1=y.monthBefore,this.timeScale="withinYTD",this.frequency="1d";break;case 1:this.timePeriod1=y.six_monthBefore,this.timeScale="withinYTD",this.frequency="1wk";break;case 2:this.timePeriod1=y.yearToDate,this.timeScale="withinYTD",this.frequency="1wk";break;case 3:this.timePeriod1=y.yearBefore,this.timeScale="afterYTD",this.frequency="1mo";break;case 4:this.timePeriod1=y.five_yearBefore,this.timeScale="afterYTD";break;case 5:this.timePeriod1=y.maxBefore,this.timeScale="afterYTD";break;default:this.timePeriod1=y.monthBefore,this.timeScale="withinYTD"}}},{key:"getData",value:function(){var e=this,t=[];this.renderTimeAndCurrency();var a=this.frequency,n=this.timePeriod1,i=this.timePeriod2,r=this.currency,c="https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-historical-data",o={"content-type":"application/octet-stream","x-rapidapi-host":"apidojo-yahoo-finance-v1.p.rapidapi.com","x-rapidapi-key":"9e901d7e23msh1a11b2cabdd5037p1538d9jsn8030aa49c4df"};Promise.all([k({method:"GET",url:c,headers:o,params:{frequency:a,filter:"history",period1:n,period2:i,symbol:"AAPL"}}),k({method:"GET",url:c,headers:o,params:{frequency:a,filter:"history",period1:n,period2:i,symbol:"VTSMX"}})]).then(k.spread((function(a,n){for(var i=a.data.prices,c=n.data.prices,o=0;o<c.length;o++)if("USD"===r){var l,s,m,d=1e5/i[i.length-1].close,u=1e5/c[c.length-1].close;t.push({date:f(null===(l=i[o])||void 0===l?void 0:l.date,e.timeScale),SA:Math.round((null===(s=i[o])||void 0===s?void 0:s.close)*d),SMX:Math.round((null===(m=c[o])||void 0===m?void 0:m.close)*u)})}else if("SGD"===r){var h,v,p,y=1e5/(1.45*i[i.length-1].close),k=1e5/(1.45*c[c.length-1].close);t.push({date:f(null===(h=i[o])||void 0===h?void 0:h.date,e.timeScale),SA:Math.round(1.45*(null===(v=i[o])||void 0===v?void 0:v.close)*y),SMX:Math.round(1.45*(null===(p=c[o])||void 0===p?void 0:p.close)*k)})}e.setState({data:t.reverse()})}))).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e){e.selectedTime===this.props.selectedTime&&e.selectedCurrency===this.props.selectedCurrency||this.getData()}},{key:"render",value:function(){return i.a.createElement(h.e,null,i.a.createElement(h.d,{data:this.state.data,margin:{left:65}},i.a.createElement(h.a,{vertical:!1,stroke:"#a8b2bb"}),i.a.createElement(h.c,{type:"monotone",dataKey:"SA",stroke:"#3bb7dd",id:"SA",dot:!1}),i.a.createElement(h.c,{type:"monotone",dataKey:"SMX",stroke:"#dcac3d",dot:!1}),i.a.createElement(h.g,{dataKey:"date",minTickGap:5}),i.a.createElement(h.h,{width:40,axisLine:!1,tickMargin:20}),i.a.createElement(h.b,{formatter:this.legendText,payload:[{value:"Apple",color:"#3bb7dd",type:"line",id:"SA"},{value:"VTSMX (Stock)",color:"#dcac3d",type:"line",id:"SMX"}]}),i.a.createElement(h.f,null)))}}]),a}(n.Component),E=(a(386),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={activeTime:0,activeCurrency:0},e}return Object(l.a)(a,[{key:"handleTimeClick",value:function(e){this.setState({activeTime:e})}},{key:"handleCurrencyClick",value:function(e){this.setState({activeCurrency:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"chartContainer"},i.a.createElement("div",{className:"options"},i.a.createElement("span",{id:"timePeriod"},i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(0)},className:0==this.state.activeTime?"activeOption":"default"},"1 month"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(1)},className:1==this.state.activeTime?"activeOption":"default"},"6 months"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(2)},className:2==this.state.activeTime?"activeOption":"default"},"Year-to-date"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(3)},className:3==this.state.activeTime?"activeOption":"default"},"1 year"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(4)},className:4==this.state.activeTime?"activeOption":"default"},"5 years"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleTimeClick(5)},className:5==this.state.activeTime?"activeOption":"default"},"Max")),i.a.createElement("span",{id:"currency"},i.a.createElement("a",{href:"#",onClick:function(){return e.handleCurrencyClick(0)},className:0==this.state.activeCurrency?"activeOption":"default"},"SGD"),i.a.createElement("a",{href:"#",onClick:function(){return e.handleCurrencyClick(1)},className:1==this.state.activeCurrency?"activeOption":"default"},"USD"))),i.a.createElement("div",{className:"chartInfo"},i.a.createElement("h2",{style:{color:"#a8b2bb"}},"Portfolio value based on gross returns"),i.a.createElement("p",{style:{color:"#a8b2bb"}},"Gross returns sources from Yahoo Finance and exchange rates from Morningstar as of 25th March 2020"),i.a.createElement("div",{className:"chartData"},i.a.createElement(b,{selectedTime:this.state.activeTime,selectedCurrency:this.state.activeCurrency}))))}}]),a}(n.Component)),C=a(152),T=[{value:"100s",label:"VTSMX (Stock)"},{value:"todo",label:"More to come!"}],S=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({selectedOption:e})},n.state={selectedOption:""},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"mainPage"},i.a.createElement("h2",null,"Portfolio Benchmark"),i.a.createElement("h4",null,"Please give it a couple seconds \u2013 Yahoo Finance API takes a while."),i.a.createElement("div",{className:"comparisonTool"},i.a.createElement("div",{className:"apple"},i.a.createElement("div",{style:{padding:15}},i.a.createElement("h5",null,"Benchmark Stock"),i.a.createElement("h4",{style:{color:"#2f79d7"}},"Apple Stock"))),i.a.createElement("div",{className:"benchmark"},i.a.createElement("div",{style:{padding:30}},i.a.createElement(C.a,{value:this.state.selectedOption,onChange:this.handleChange,options:T,placeholder:"Which benchmark do you want to compare?"})))),i.a.createElement("div",null,i.a.createElement(E,null)))}}]),a}(n.Component);var g=function(){return i.a.createElement("div",null,i.a.createElement(u,null),i.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=document.getElementById("root");c.a.render(i.a.createElement(g,null),O),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[181,1,2]]]);
//# sourceMappingURL=main.7f8e4c1d.chunk.js.map